<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Word Web Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="game-container">
    <!-- SVG for connection lines -->
    <svg id="svg-connections"></svg>
    
    <!-- Word Slots Area (Top 60%) -->
    <div id="word-slots-area">
      <div id="word-slots"></div>
    </div>
    
    <!-- Word Bank Area (Bottom 40%) -->
    <div id="word-bank-area">
      <div id="word-bank"></div>
    </div>
    
  <!-- Replay Button -->
  <button id="replay-btn" class="control-btn">Replay</button>
  <!-- Undo Button -->
    <button id="undo-btn" class="undo-btn">
      <span class="undo-icon" aria-label="Undo">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
          <path d="M9 14L4 9l5-5"/>
          <path d="M20 20v-7a4 4 0 00-4-4H4"/>
        </svg>
      </span>
      <span class="undo-label">UNDO</span>
      <span id="undo-count" class="undo-count"></span>
    </button>
    
    <!-- Success Screen -->
    <div id="success-screen" class="hidden">
      <h2>Level Complete! ðŸŽ‰</h2>
      <button id="next-btn" class="control-btn">Next Level</button>
    </div>
  </div>
  
  <!-- Level Editor -->
  <div id="editor-container">
    <div id="editor-controls">
      <h2>Level Editor</h2>
      <input id="editor-word-input" type="text" placeholder="Enter word (e.g., VIEW)" maxlength="12" style="width:100%; margin-bottom:10px;">
      <button id="editor-add-word" style="width:100%; margin-bottom:10px;">Add Word</button>
      
      <!-- Word List Section -->
      <div id="editor-word-list-section" style="margin-top:15px; margin-bottom:15px;">
        <h3 style="font-size:14px; margin-bottom:8px; color:#555;">Words Added:</h3>
        <div id="editor-word-list" style="max-height:150px; overflow-y:auto; border:1px solid #ddd; border-radius:4px; padding:8px; background:#fafafa;">
          <!-- Words will be dynamically added here -->
        </div>
      </div>
      
      <!-- Draw Toggle -->
      <div style="margin-bottom:15px; padding:10px; background:#f0f0f0; border-radius:6px;">
        <label style="display:flex; align-items:center; cursor:pointer; font-size:14px; font-weight:bold;">
          <input type="checkbox" id="editor-draw-toggle" style="margin-right:8px; width:18px; height:18px; cursor:pointer;">
          <span>Draw Mode</span>
        </label>
        <div id="editor-selection-info" style="margin-top:8px; font-size:12px; color:#666; min-height:20px;">
          <!-- Selection info will appear here -->
        </div>
        <button id="editor-draw-connection" disabled style="width:100%; margin-top:8px; opacity:0.5;">Draw Connection</button>
      </div>
      
      <input id="editor-conn-input" type="text" placeholder="Connection (e.g., 003,100)" maxlength="7" style="width:100%; margin-bottom:10px;">
      <button id="editor-add-conn" style="width:100%; margin-bottom:10px;">Add Connection</button>
      <br>
      <button id="editor-redraw-lines" style="width:100%; margin-bottom:10px;">Redraw Lines</button>
      <button id="editor-shuffle-bank" style="width:100%; margin-bottom:10px;">Shuffle Bank</button>
      <br>
      <button id="editor-save" style="width:100%; margin-bottom:10px;">Save Level</button>
      <button id="editor-exit" style="width:100%;">Exit Editor</button>
    </div>
    <div id="editor-game-view">
      <svg id="editor-svg-connections"></svg>
  <div id="editor-word-slots-area" style="position:relative;width:100%;height:100%;">
  </div>
      <div id="editor-word-bank-area">
        <div id="editor-word-bank"></div>
      </div>
    </div>
    <!-- Connection List Panel (Right Side) -->
    <div id="editor-connection-panel" style="min-width:200px; max-width:200px; padding:20px; background:white; border-radius:12px; box-shadow:0 4px 16px rgba(0,0,0,0.1); height:fit-content;">
      <h3 style="font-size:16px; margin-bottom:12px; color:#333;">Connections</h3>
      <div id="editor-connection-list" style="max-height:400px; overflow-y:auto;">
        <!-- Connections will be listed here -->
      </div>
    </div>
  </div>
  
  <!-- Load modules in dependency order -->
  <script src="config.js"></script>
  <script src="game-state.js"></script>
  <script src="utils.js"></script>
  <script src="game-logic.js"></script>
  <script src="renderer.js"></script>
  <script src="drag-drop.js"></script>
  <script src="editor.js"></script>
  <script src="script.js"></script>
</body>
</html>